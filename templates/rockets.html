{% extends "base.html" %}

{% block content %}

<nav aria-label="breadcrumb" class="mb-3 d-flex justify-content-between align-items-center bg-light rounded p-3">
    <ol class="breadcrumb mb-0">
        <li class="breadcrumb-item"><a href="{{ home_link }}">Home</a></li>
        <li class="breadcrumb-item active"><a href="{{ base_url }}rockets.html">Rockets</a></li>
    </ol>

    <div class="position-relative" style="width: 300px;">
        <input type="text" id="rocket-search" class="form-control" placeholder="Search rockets...">
        <div id="search-results" class="border position-absolute bg-white w-100" style="z-index:100; display:none;"></div>
    </div>
</nav>

<div class="alert alert-warning mt-3" role="alert">
    <strong>Note:</strong> This project is still in its early stages. Data are incomplete or inaccurate.
</div>

<div class="table-responsive">
<table class="table table-striped table-sm">
    <thead class="table-dark">
        <tr>
            <th scope="col">Rocket</th>
            <th scope="col">Manufacturer</th>
            <th scope="col">First Flight</th>
        </tr>
    </thead>
    <tbody>
        {% for row in rockets_page %}
            {% if row.type == "rocket" %}
                <tr>
                    <td><a href="{{ base_url }}rocket/{{ row.data.slug }}.html">{{ row.data.name }}</a></td>
                    <td>{{ row.data.manufacturer }}</td>
                    <td>{{ row.data.first_flight }}</td>
                </tr>
            {% elif row.type == "variant" %}
                <tr>
                    <td class="ps-4">∟ <a href="{{ base_url }}rocket/{{ row.root.slug }}/{{ row.data.slug }}.html">{{ row.data.name }}</a></td>
                    <td>{{ row.root.manufacturer }}</td>
                    <td>{{ row.data.first_flight }}</td>
                </tr>
            {% endif %}
        {% endfor %}
    </tbody>
</table>
</div>

<!-- Pagination -->
{% if pagination %}
<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center mt-4">
        {% for page in pagination %}
            {% if page == '...' %}
                <li class="page-item disabled"><span class="page-link">…</span></li>
            {% elif page == current_page %}
                <li class="page-item active"><span class="page-link">{{ page }}</span></li>
            {% else %}
                <li class="page-item">
                    {% if page == 1 %}
                        <a class="page-link" href="{{ base_url }}rockets.html">{{ page }}</a>
                    {% else %}
                        <a class="page-link" href="{{ base_url }}rockets_page_{{ page }}.html">{{ page }}</a>
                    {% endif %}
                </li>
            {% endif %}
        {% endfor %}
    </ul>
</nav>
{% endif %}

{% endblock %}
